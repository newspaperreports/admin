// ✅ লাইসেন্স চেক - এখানে তুমি তোমার নাম্বার/ডোমেইন/টেক্সট দিবে
const LICENSE_KEY = "NewspaperReports-017XXXXXXX";

// ❌ কেউ যদি LICENSE_KEY পরিবর্তন করে ফেলে, বা বাদ দেয়, তাহলে কাজ করবে না
if (
  typeof LICENSE_KEY === "undefined" ||
  !LICENSE_KEY.includes("NewspaperReports")
) {
  alert("⛔ Unauthorized usage detected.\nPlease purchase a valid license.");
  throw new Error("⛔ License key missing or invalid");
}

// ✅ CSS Link Inject (head-এ todayLive.css যোগ করবে)
const cssLink = document.createElement("link");
cssLink.rel = "stylesheet";
cssLink.href = "https://cdn.jsdelivr.net/gh/newspaperreports/admin@latest/asLife/todayLive.css";
document.head.appendChild(cssLink);

// ✅ HTML Structure Inject (body-তে popup HTML যোগ করবে)
const popupHTML = `
<!-- ✅ Live Popup HTML Start -->
<div class="meta_asAdmin_live_post_area fade-in" id="adminNotification">
  <div class="asAdmin_live_post_ct">
    <div class="asAdmin_live_info">
      <div id="asAdminLivePost" class="asAdmin_live_post">
        <a href="#" target="" class="asAdmin_live_aa" id="popupLink">
          <div class="asAdmin_Live_image">
            <figure>
              <picture>
                <source id="popupImgSrc" srcset="">
                <img id="popupImg" class="asAdmin_live_img" alt="">
              </picture>
            </figure>
          </div>
          <div class="asAdmin_live_headLine">
            <font class="asAdmin_Live_title" id="popupTitle"></font>
          </div>
          <button class="asAdmin_live_view_btn" type="button" id="popupBtn">
            <span></span>
          </button>
        </a>
        <button id="popupCloseBtn" class="asAdmin_post_close fade-out">
          <span>✖</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- ✅ Live Popup HTML End -->
`;
document.body.insertAdjacentHTML("beforeend", popupHTML);

// ✅ মূল PopUp JS Inject (যেটা JSON লোড করে popup দেখায়)
const mainScript = document.createElement("script");
mainScript.src = "https://cdn.jsdelivr.net/gh/newspaperreports/admin@latest/asLife/todayLive.js";
mainScript.defer = true;
document.head.appendChild(mainScript);

// ✅ ডেভেলপার কনসোলে একটি লাইসেন্স ট্যাগ দেখাবে
console.log(
  "%c✔ Popup Licensed to: " + LICENSE_KEY,
  "color: green; font-weight: bold;"
);
